<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>vNot&#39;s Blog</title>
  <subtitle>Write Something, Do Something</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2016-10-10T09:56:43.533Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>vNot</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Give it five minutes</title>
    <link href="http://yoursite.com/2016/10/10/Give-it-five-minutes/"/>
    <id>http://yoursite.com/2016/10/10/Give-it-five-minutes/</id>
    <published>2016-10-10T09:41:03.000Z</published>
    <updated>2016-10-10T09:56:43.533Z</updated>
    
    <content type="html">&lt;p&gt;A few years ago I used to be a hothead. Whenever anyone said anything, I’d think of a way to disagree. I’d push back hard if something didn’t fit my world-view.&lt;/p&gt;
&lt;p&gt;It’s like I had to be first with an opinion – as if being first meant something. But what it really meant was that I wasn’t thinking hard enough about the problem. The faster you react, the less you think. Not always, but often.&lt;/p&gt;
&lt;p&gt;It’s easy to talk about knee jerk reactions as if they are things that only other people have. You have them too. If your neighbor isn’t immune, neither are you.&lt;/p&gt;
&lt;p&gt;This came to a head back in 2007. I was speaking at the Business Innovation Factory conference in Providence, RI. So was Richard Saul Wurman. After my talk Richard came up to introduce himself and compliment my talk. That was very generous of him. He certainly didn’t have to do that.&lt;/p&gt;
&lt;p&gt;And what did I do? I pushed back at him about the talk he gave. While he was making his points on stage, I was taking an inventory of the things I didn’t agree with. And when presented with an opportunity to speak with him, I quickly pushed back at some of his ideas. I must have seemed like such an asshole.&lt;/p&gt;
&lt;p&gt;His response changed my life. It was a simple thing. He said “Man, give it five minutes.” I asked him what he meant by that? He said, it’s fine to disagree, it’s fine to push back, it’s great to have strong opinions and beliefs, but give my ideas some time to set in before you’re sure you want to argue against them. “Five minutes” represented “think”, not react. He was totally right. I came into the discussion looking to prove something, not learn something.&lt;/p&gt;
&lt;p&gt;This was a big moment for me.&lt;/p&gt;
&lt;p&gt;Richard has spent his career thinking about these problems. He’s given it 30 years. And I gave it just a few minutes. Now, certainly he can be wrong and I could be right, but it’s better to think deeply about something first before being so certain you’re right.&lt;/p&gt;
&lt;p&gt;There’s also a difference between asking questions and pushing back. Pushing back means you already think you know. Asking questions means you want to know. Ask more questions.&lt;/p&gt;
&lt;p&gt;Learning to think first rather than react quick is a life long pursuit. It’s tough. I still get hot sometimes when&lt;br&gt;I shouldn’t. But I’m really enjoying all the benefits of getting better.&lt;/p&gt;
&lt;p&gt;If you aren’t sure why this is important, think about this quote from Jonathan Ive regarding Steve Jobs’ reverence for ideas:&lt;br&gt;&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;And just as Steve loved ideas, and loved making stuff, he treated the process of creativity with a rare and a wonderful reverence. You see, I think he better than anyone understood that while ideas ultimately can be so powerful, they begin as fragile, barely formed thoughts, so easily missed, so easily compromised, so easily just squished.&lt;/p&gt;
&lt;/blockquote&gt;&lt;/p&gt;
&lt;p&gt;That’s deep. Ideas are fragile. They often start powerless. They’re barely there, so easy to ignore or skip or miss.&lt;/p&gt;
&lt;p&gt;There are two things in this world that take no skill: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Spending other people’s money.&lt;/li&gt;
&lt;li&gt;Dismissing an idea.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Dismissing an idea is so easy because it doesn’t involve any work. You can scoff at it. You can ignore it. You can puff some smoke at it. That’s easy. The hard thing to do is protect it, think about it, let it marinate, explore it, riff on it, and try it. The right idea could start out life as the wrong idea.&lt;/p&gt;
&lt;p&gt;So next time you hear something, or someone, talk about an idea, pitch an idea, or suggest an idea, give it five minutes. Think about it a little bit before pushing back, before saying it’s too hard or it’s too much work. Those things may be true, but there may be another truth in there too: It may be worth it.&lt;/p&gt;
&lt;h2 id=&quot;译文&quot;&gt;&lt;a href=&quot;#译文&quot; class=&quot;headerlink&quot; title=&quot;译文&quot;&gt;&lt;/a&gt;译文&lt;/h2&gt;&lt;p&gt;几年前，我还是一个行事莽撞的人。无论别人说了什么，我都认为他说的不对。如果某件事不符合我的世界观，我则会狠狠的反击。&lt;/p&gt;
&lt;p&gt;这就比如说我才是第一个应该提出某种观点的人，似乎成为意见领袖对我来说是一件非常重要的事情。然而事实是我对问题缺乏深度的思考，你反驳的越快，说明你思考的越少，虽然并不总是这样，但几乎是。&lt;/p&gt;
&lt;p&gt;谈起膝跳反射时很轻松随意，好像这只是别人才会有的反应，你也有。如果你的邻居没有免疫能力，那么你也没有。&lt;/p&gt;
&lt;p&gt;时间退回到2007年，当时我正在Providence, RI举办的商业创新工厂会议(Business Innovation Factory conference)上发言，Richard Saul Wurman也安排了发言。在我的演讲过后，他上来向我介绍他自己，同时赞扬了我的发言，他是如此大方，显然他不需要这么做。&lt;/p&gt;
&lt;p&gt;但是你知道我接下来都做了些什么吗！？我对他的方言进行了狠狠的反驳。当时他在台上发言表述他的观点，而我在创新方面上和他意见相佐。等到会议间隙我有机会跟他对话时，我对他的某些观点进行了急不可耐的反驳。当时我的样子看起来像极了傻瓜。&lt;/p&gt;
&lt;p&gt;然而他的回应改变了我的一生。『这简单』他说，『伙计，先思考五分钟』，我问这是什么意思？他说：『不同意我的观点没关系，对我的观点进行反驳也无所谓，并且坚守自己的观点和信念是一件好事，但是在你确认反驳我的观点之前能否给我的观点留点时间，先思考一下』。原来他说的「五分钟」代表「思考」，而不是当即反驳。关于这一点，他完全正确。我急匆匆的介入这次讨论只是想证明我的观点才是正确的，而这并不能让我学到什么。&lt;/p&gt;
&lt;p&gt;这是我人生当中一个重要时刻。&lt;/p&gt;
&lt;p&gt;Richard花了整整30年的职业生涯时间来思考这些问题，形成他自己的观点，然而我在几分钟内就立刻进行反驳。放到现在来看，当然他可能是错的，我是对的。但是在你对某件事非常确定你是对的之前，不妨先深入思考下。&lt;/p&gt;
&lt;p&gt;另外问问题和反驳观点之间也有很大的不同，反驳意味着你对自己了解的问题进行了思考，已经形成自己的观点；问问题是说你想要去了解。这个世界如此之大，多多问问题。&lt;/p&gt;
&lt;p&gt;先思考而不是立即反驳是我们一生的追求，这很难。我仍然有时会头脑发热，但是我真的很享受情况变得越来越好时所带给我的好处。&lt;/p&gt;
&lt;p&gt;如果你不确定这一点为什么如此重要，你可以思考一下下面这段Jonathan Ive看待Steve Jobs对Idea是如此珍惜的一段话：&lt;/p&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;And just as Steve loved ideas, and loved making stuff, he treated the process of creativity with a rare and a wonderful reverence. You see, I think he better than anyone understood that while ideas ultimately can be so powerful, they begin as fragile, barely formed thoughts, so easily missed, so easily compromised, so easily just squished.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;阐述的如此深刻，Idea是如此脆弱，它们开始时显得如此无力，几乎看不见，很容易就被我们忽视了。&lt;/p&gt;
&lt;p&gt;在这个世界上有两件事情看起来是不需要掌握任何技能的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;花别人的钱；&lt;/li&gt;
&lt;li&gt;对Idea置若罔闻；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;错过一个Idea显得如此容易，因为它不牵涉任何工作。难的是你要小心保护它，对它用尽心思，让它生根发芽。&lt;/p&gt;
&lt;p&gt;所以下次你听到某人说了什么，谈论了什么，或者提出了某个想法，先深入思考五分钟吧，在你狠狠反驳之前，你可能会认为他们说的这些事情太难了，或者有太多的工作需要完成，也许你认为的都对，但也有可能相反：恰好值得一试！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;A few years ago I used to be a hothead. Whenever anyone said anything, I’d think of a way to disagree. I’d push back hard if something di
    
    </summary>
    
      <category term="Mark" scheme="http://yoursite.com/categories/Mark/"/>
    
    
      <category term="Mark" scheme="http://yoursite.com/tags/Mark/"/>
    
  </entry>
  
  <entry>
    <title>&lt;i class=&#39;iconfont icon-zhuan&#39; style=&#39;vertical-align:super;&#39;&gt;&lt;/i&gt; NPM版本管理</title>
    <link href="http://yoursite.com/2016/06/21/npm-version/"/>
    <id>http://yoursite.com/2016/06/21/npm-version/</id>
    <published>2016-06-21T03:30:07.000Z</published>
    <updated>2016-06-21T11:00:08.656Z</updated>
    
    <content type="html">&lt;p&gt;人老了，一是怀旧，二是健忘，所以记录一下。&lt;/p&gt;
&lt;h2 id=&quot;Semantic-Versioning-2-0-0&quot;&gt;&lt;a href=&quot;#Semantic-Versioning-2-0-0&quot; class=&quot;headerlink&quot; title=&quot;Semantic Versioning 2.0.0&quot;&gt;&lt;/a&gt;Semantic Versioning 2.0.0&lt;/h2&gt;&lt;p&gt;NPM 中依赖模块的版本都需要遵循 &lt;a href=&quot;http://semver.org/lang/zh-CN&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;semver 2.0&lt;/a&gt; 的语义化版本规则。&lt;/p&gt;
&lt;p&gt;版本格式：主版本号.次版本号.修订号&lt;br&gt;版本号递增规则如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;主版本号：当你做了不兼容的API 修改&lt;/li&gt;
&lt;li&gt;次版本号：当你做了向下兼容的功能性新增 &lt;/li&gt;
&lt;li&gt;修订号：当你做了向下兼容的问题修正&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;先行版本号及版本编译信息可以加到“主版本号.次版本号.修订号”的后面，作为延伸。&lt;/p&gt;
&lt;p&gt;然后基于语义化的版本，我们在选择版本的时候就可以对依赖进行版本的控制：&lt;br&gt;&lt;figure class=&quot;highlight avrasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;dependencies:&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;express&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;3.x&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;debug&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;*&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;express-session&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;~1.0.0&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;connect-redis&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;1.2.3&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;从例子中可以看到，有许多种选择版本范围的风格，可以在 &lt;a href=&quot;https://docs.npmjs.com/misc/semver&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;semver in npm&lt;/a&gt; 上看到每一个不同风格的作用。 而在 &lt;code&gt;npm&lt;/code&gt; 的依赖管理中，最常用到的几种是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt;: 任意版本&lt;/li&gt;
&lt;li&gt;&lt;code&gt;1.1.0&lt;/code&gt;: 指定版本&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~1.1.0&lt;/code&gt;: &amp;gt;=1.1.0 &amp;amp;&amp;amp; &amp;lt; 1.2.0&lt;/li&gt;
&lt;li&gt;&lt;code&gt;^1.1.0&lt;/code&gt;: &amp;gt;=1.1.0 &amp;amp;&amp;amp; &amp;lt; 2.0.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其中 &lt;code&gt;~&lt;/code&gt; 和 &lt;code&gt;^&lt;/code&gt; 两个前缀让人比较迷惑，简单的来说：&lt;br&gt;&lt;code&gt;~&lt;/code&gt; 前缀表示，安装大于指定的这个版本，并且匹配到 &lt;code&gt;x.y.z&lt;/code&gt; 中 &lt;code&gt;z&lt;/code&gt; 最新的版本。&lt;br&gt;&lt;code&gt;^&lt;/code&gt; 前缀在 &lt;code&gt;^0.y.z&lt;/code&gt; 时的表现和 &lt;code&gt;~0.y.z&lt;/code&gt; 是一样的，然而 &lt;code&gt;^1.y.z&lt;/code&gt; 的时候，就会 匹配到 &lt;code&gt;y&lt;/code&gt; 和 &lt;code&gt;z&lt;/code&gt; 都是最新的版本。&lt;br&gt;特殊的是，当版本号为 &lt;code&gt;^0.0.z&lt;/code&gt; 或者 &lt;code&gt;~0.0.z&lt;/code&gt; 的时候，考虑到 &lt;code&gt;0.0.z&lt;/code&gt; 是一个不稳定版本， 所以它们都相当于 &lt;code&gt;=0.0.z&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id=&quot;semver-的弊端&quot;&gt;&lt;a href=&quot;#semver-的弊端&quot; class=&quot;headerlink&quot; title=&quot;semver 的弊端&quot;&gt;&lt;/a&gt;semver 的弊端&lt;/h2&gt;&lt;p&gt;按照 semver 的规范：&lt;br&gt;所有的 breaking change 都需要升级主版本号。&lt;br&gt;向后兼容的新增功能可以只升级次版本号。&lt;br&gt;但是最终在实践过程中，许多包没有遵循该原则，或者是没注意破坏了该原则，导致：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;新增功能带来了 breaking change&lt;/li&gt;
&lt;li&gt;修复现有 bug 引入未知的 breaking change&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;由此引出了下一个话题：如何正确的选择依赖模块依赖范围。&lt;/p&gt;
&lt;h2 id=&quot;如何选择依赖范围&quot;&gt;&lt;a href=&quot;#如何选择依赖范围&quot; class=&quot;headerlink&quot; title=&quot;如何选择依赖范围&quot;&gt;&lt;/a&gt;如何选择依赖范围&lt;/h2&gt;&lt;h3 id=&quot;node-模块&quot;&gt;&lt;a href=&quot;#node-模块&quot; class=&quot;headerlink&quot; title=&quot;node 模块&quot;&gt;&lt;/a&gt;node 模块&lt;/h3&gt;&lt;p&gt;在编写 node 的模块的时候，模块自身可能会依赖一些 dependencies, 然而我们并不想每一次依赖的 模块有任何小的 bug fix 的时候就要重新更新一次依赖，因此会推荐对大部分的依赖使用 &lt;code&gt;~&lt;/code&gt; 前缀， 这样可以保证可以享受到这些依赖模块的 bug fix，并且不需要更新自身的版本。同时，也不会引入 一些 API 变更导致的无法预料的错误。当然，如果对一些完全信任的模块也可以考虑使用 &lt;code&gt;^&lt;/code&gt; 前缀。&lt;br&gt;see: &lt;a href=&quot;https://github.com/koajs/koa/blob/master/package.json&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;koa&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;node-项目&quot;&gt;&lt;a href=&quot;#node-项目&quot; class=&quot;headerlink&quot; title=&quot;node 项目&quot;&gt;&lt;/a&gt;node 项目&lt;/h3&gt;&lt;p&gt;然而在编写 node 的项目的时候，我们更加希望能够追踪到所有依赖的任何变动，因为项目也不会有 关于自身版本更新的烦恼，因此更加倾向于写死依赖的版本，这样如果有任何由于更加容易追踪 升级依赖导致的 bug。&lt;br&gt;see: &lt;a href=&quot;https://github.com/koajs/todo/blob/master/package.json&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;koa-todo&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;如何选择发布模块的版本&quot;&gt;&lt;a href=&quot;#如何选择发布模块的版本&quot; class=&quot;headerlink&quot; title=&quot;如何选择发布模块的版本&quot;&gt;&lt;/a&gt;如何选择发布模块的版本&lt;/h2&gt;&lt;p&gt;看完编写过程中怎么样选择依赖的范围，回过头来看看，如果我们需要编写一个发布到 &lt;code&gt;npm&lt;/code&gt; 的模块， 需要如何选择发布的模块的版本。&lt;br&gt;当刚开始开发这个模块，它的功能和 API 都会有较大的调整的时候，可以选择发布 &lt;code&gt;0.0.z&lt;/code&gt; 版本。&lt;br&gt;而当一个模块的 &lt;code&gt;API&lt;/code&gt; 基本已经成型，不过可能会有一些新的 API 增加的时候，可以选择发布 &lt;code&gt;0.y.z&lt;/code&gt; 版本。&lt;br&gt;当一个模块的功能基本已经完全定下来的时候，可以选择发布 &lt;code&gt;x.y.z(x &amp;gt;= 1)&lt;/code&gt; 版本。当模块发布到 &lt;code&gt;npm&lt;/code&gt; 之后，就意味着已经正式准备好了，所以尽量把发布的第一个版本定为 &lt;code&gt;1.0.0&lt;/code&gt;。&lt;br&gt;当修复了一些小的 bug 的时候，请升级 &lt;code&gt;z&lt;/code&gt; 的版本号，这样可以让用户通过 &lt;code&gt;~&lt;/code&gt; 和 &lt;code&gt;^&lt;/code&gt; 前缀最快速的享受你的 bug fix。&lt;br&gt;当增加了新的功能的时候，可以选择升级 &lt;code&gt;y&lt;/code&gt; 的版本号。&lt;br&gt;当变更会影响原有接口的情况下，起码要升级 &lt;code&gt;y&lt;/code&gt; 的版本号，这样不会影响大部分依赖这个库的用户。&lt;br&gt;当重构了模块，从设计上就有很大不同的情况下，需要升级 &lt;code&gt;x&lt;/code&gt; 版本号。&lt;br&gt;遵循这几条规则，这样用户在引入这个模块的时候就可以轻松的通过 &lt;code&gt;semver&lt;/code&gt; 提供的验证机制来更轻松的使用你的模块。&lt;/p&gt;
&lt;p&gt;原文地址：&lt;a href=&quot;http://deadhorse.me/nodejs/2014/04/27/semver-in-nodejs.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;node.js 中的版本管理&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;人老了，一是怀旧，二是健忘，所以记录一下。&lt;/p&gt;
&lt;h2 id=&quot;Semantic-Versioning-2-0-0&quot;&gt;&lt;a href=&quot;#Semantic-Versioning-2-0-0&quot; class=&quot;headerlink&quot; title=&quot;Semantic Versioning 2.0.0&quot;&gt;&lt;/a&gt;Semantic Versioning 2.0.0&lt;/h2&gt;&lt;p&gt;NPM 中依赖模块的版本都需要遵循 &lt;a href=&quot;http://semver.org/lang/zh-CN&quot;&gt;semver 2.0&lt;/a&gt; 的语义化版本规则。&lt;/p&gt;
&lt;p&gt;版本格式：主版本号.次版本号.修订号&lt;br&gt;版本号递增规则如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;主版本号：当你做了不兼容的API 修改&lt;/li&gt;
&lt;li&gt;次版本号：当你做了向下兼容的功能性新增 &lt;/li&gt;
&lt;li&gt;修订号：当你做了向下兼容的问题修正&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;先行版本号及版本编译信息可以加到“主版本号.次版本号.修订号”的后面，作为延伸。&lt;/p&gt;
&lt;p&gt;然后基于语义化的版本，我们在选择版本的时候就可以对依赖进行版本的控制：&lt;br&gt;&lt;figure class=&quot;highlight avrasm&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;symbol&quot;&gt;dependencies:&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;express&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;3.x&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;debug&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;*&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;express-session&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;~1.0.0&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&quot;connect-redis&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;1.2.3&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Mark" scheme="http://yoursite.com/categories/Mark/"/>
    
    
      <category term="Mark" scheme="http://yoursite.com/tags/Mark/"/>
    
      <category term="NPM" scheme="http://yoursite.com/tags/NPM/"/>
    
  </entry>
  
  <entry>
    <title>天了噜-密码忘记了</title>
    <link href="http://yoursite.com/2016/06/14/forget-password/"/>
    <id>http://yoursite.com/2016/06/14/forget-password/</id>
    <published>2016-06-14T09:50:14.000Z</published>
    <updated>2016-06-14T11:09:07.241Z</updated>
    
    <content type="html">&lt;p&gt;&lt;strong&gt;大大的RT!&lt;/strong&gt;&lt;br&gt;盛怒之下，开篇备忘，&lt;br&gt;1024在手，密码我有！&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;大大的RT!&lt;/strong&gt;&lt;br&gt;盛怒之下，开篇备忘，&lt;br&gt;1024在手，密码我有！&lt;/p&gt;

    
    </summary>
    
      <category term="随笔" scheme="http://yoursite.com/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="蛋疼" scheme="http://yoursite.com/tags/%E8%9B%8B%E7%96%BC/"/>
    
  </entry>
  
  <entry>
    <title>移动端自适应布局研究</title>
    <link href="http://yoursite.com/2015/09/30/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%87%AA%E9%80%82%E5%BA%94%E5%B8%83%E5%B1%80%E7%A0%94%E7%A9%B6/"/>
    <id>http://yoursite.com/2015/09/30/移动端自适应布局研究/</id>
    <published>2015-09-29T16:17:00.000Z</published>
    <updated>2016-06-14T08:10:22.876Z</updated>
    
    <content type="html">&lt;h2 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;开发移动端H5页面
面对不同分辨率的手机
面对不同屏幕尺寸的手机
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;基础概念&quot;&gt;&lt;a href=&quot;#基础概念&quot; class=&quot;headerlink&quot; title=&quot;基础概念&quot;&gt;&lt;/a&gt;基础概念&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;物理像素（physical pixel）&lt;/strong&gt;&lt;br&gt;一个物理像素是显示器(手机屏幕)上最小的&lt;code&gt;物理显示单元&lt;/code&gt;，在操作系统的调度下，每一个设备像素都有自己的颜色值和亮度值。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;设备独立像素(density-independent pixel)&lt;/strong&gt;&lt;br&gt;设备独立像素（狭义：&lt;code&gt;设备宽高&lt;/code&gt;），可以认为是计算机坐标系统中得一个点，这个点代表一个可以由程序使用的虚拟像素(比如: css像素)，然后由相关系统转换为物理像素。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;设备像素比(device pixel ratio )&lt;/strong&gt;&lt;br&gt;设备像素比(简称&lt;code&gt;dpr&lt;/code&gt;)定义了物理像素和设备独立像素的对应关系，它的值可以按如下的公式的得到：&lt;/p&gt;
&lt;figure class=&quot;highlight 1c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;设备像素比 = 物理像素 / 设备独立像素 &lt;span class=&quot;comment&quot;&gt;// 在某一方向上，x方向或者y方向&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;p&gt;在javascript中，可以通过window.devicePixelRatio获取到当前设备的dpr。&lt;/p&gt;
&lt;p&gt;  在css中，可以通过-webkit-device-pixel-ratio，-webkit-min-device-pixel-ratio和-webkit-max-device-pixel-ratio进行媒体查询，对不同dpr的设备，做一些样式适配(这里只针对webkit内核的浏览器和webview)。  &lt;/p&gt;
&lt;p&gt;以&lt;code&gt;iphone6&lt;/code&gt;为例：&lt;/p&gt;
&lt;p&gt;设备宽高为&lt;code&gt;375×667&lt;/code&gt;，可以理解为设备独立像素(或css像素)。&lt;br&gt;dpr为2，根据上面的计算公式，其物理像素就应该&lt;code&gt;×2&lt;/code&gt;，为&lt;code&gt;750×1334&lt;/code&gt;。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;在普通屏幕下，1个css像素 对应 1个物理像素(1:1)。
在retina 屏幕下，1个css像素对应 4个物理像素(1:4)。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;用一张图来表现，就是这样：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img.alicdn.com/tps/TB1uWfJIpXXXXaoXXXXXXXXXXXX.gif&quot; alt=&quot;原谅我也盗图了&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;问题汇总&quot;&gt;&lt;a href=&quot;#问题汇总&quot; class=&quot;headerlink&quot; title=&quot;问题汇总&quot;&gt;&lt;/a&gt;问题汇总&lt;/h2&gt;&lt;h3 id=&quot;retina下，图片高清问题&quot;&gt;&lt;a href=&quot;#retina下，图片高清问题&quot; class=&quot;headerlink&quot; title=&quot;retina下，图片高清问题&quot;&gt;&lt;/a&gt;retina下，图片高清问题&lt;/h3&gt;&lt;p&gt;解决方案：两倍图片(@2x)，然后图片容器缩小50%。&lt;br&gt;如：图片大小，400×600;&lt;/p&gt;
&lt;blockquote&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;width&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;height&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;300&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;背景CSS&lt;br&gt;&lt;figure class=&quot;highlight scss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;200px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;300px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;background-image&lt;/span&gt;: url(image@&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;x.jpg);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;background-size&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;200px&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;300px&lt;/span&gt;; &lt;span class=&quot;comment&quot;&gt;// 或者: background-size: contain;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这样的缺点，很明显，普通屏幕下：&lt;/p&gt;
&lt;p&gt;同样下载了@2x的图片，造成资源浪费。&lt;br&gt;图片由于downsampling，会失去了一些锐利度(或是色差)。&lt;/p&gt;
&lt;p&gt;所以最好的解决办法是：不同的dpr下，加载不同的尺寸的图片。&lt;br&gt;不管是通过css媒体查询，还是通过javascript条件判断都是可以的。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;PS: 更好的解决方案，通过图片服务器，服务端裁剪图片。&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;retina下，border-1px问题&quot;&gt;&lt;a href=&quot;#retina下，border-1px问题&quot; class=&quot;headerlink&quot; title=&quot;retina下，border: 1px问题&quot;&gt;&lt;/a&gt;retina下，border: 1px问题&lt;/h3&gt;&lt;p&gt;直接上图：&lt;br&gt;&lt;img src=&quot;https://img.alicdn.com/tps/TB1OPkfIpXXXXXWaXXXXXXXXXXX.jpg_q90.jpg&quot; alt=&quot;对比图&quot;&gt;&lt;/p&gt;
&lt;p&gt;  上图中，对于一条1px宽的直线，它们在屏幕上的物理尺寸(灰色区域)的确是相同的，不同的其实是屏幕上最小的物理显示单元，即物理像素，所以对于一条直线，iphone5它能显示的最小宽度其实是图中的红线圈出来的灰色区域，用css来表示，理论上说是0.5px。&lt;/p&gt;
&lt;p&gt;  &lt;strong&gt;所以，设计师想要的retina下border: 1px;，其实就是1物理像素宽，对于css而言，可以认为是border: 0.5px;，这是retina下(dpr=2)下能显示的最小单位。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;  然而，无奈并不是所有手机浏览器都能识别border: 0.5px;，ios7以下，android等其他系统里，0.5px会被当成为0px处理，那么如何实现这0.5px呢？&lt;/p&gt;
&lt;p&gt;  最简单的一个做法就是这样(&lt;strong&gt;元素scale&lt;/strong&gt;)：&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.scale&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;position&lt;/span&gt;: relative;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.scale&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:after&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;content&lt;/span&gt;:&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;position&lt;/span&gt;: absolute;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;bottom&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;left&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;right&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border-bottom&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;number&quot;&gt;#ddd&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-webkit-transform&lt;/span&gt;:&lt;span class=&quot;built_in&quot;&gt;scaleY&lt;/span&gt;(.5);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;-webkit-transform-origin&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;我们照常写border-bottom: 1px solid #ddd;，然后通过transform: scaleY(.5)缩小0.5倍来达到0.5px的效果，但是这样hack实在是不够通用(如：圆角等)，写起来也麻烦。&lt;/p&gt;
&lt;p&gt;当然还有其他好多hack方法，网上都可以搜索到，但是各有利弊，这里比较推荐的还是页面scale的方案，是比较通用的，几乎满足所有场景。&lt;/p&gt;
&lt;p&gt;对于iphone5(dpr=2)，添加如下的meta标签，设置viewport(scale 0.5)：&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;meta&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;viewport&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;content&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;width=640,initial-scale=0.5,maximum-scale=0.5, minimum-scale=0.5,user-scalable=no&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;多屏适配布局问题&quot;&gt;&lt;a href=&quot;#多屏适配布局问题&quot; class=&quot;headerlink&quot; title=&quot;多屏适配布局问题&quot;&gt;&lt;/a&gt;多屏适配布局问题&lt;/h3&gt;&lt;p&gt;核心方案：&lt;code&gt;rem&lt;/code&gt;等比例适配，也是直接上代码：&lt;br&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;html&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;font-size&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;20px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.btn&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;6rem&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;3rem&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;line-height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;3rem&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;font-size&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;1.2rem&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: inline-block;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#06c&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#fff&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;border-radius&lt;/span&gt;: .&lt;span class=&quot;number&quot;&gt;5rem&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;text-decoration&lt;/span&gt;: none;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;text-align&lt;/span&gt;: center;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;通过JS动态改变&lt;code&gt;html&lt;/code&gt;根节点字号可以等比改变所有用了rem单位的元素。&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;doc, win&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; docEl = doc.documentElement,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    resizeEvt = &lt;span class=&quot;string&quot;&gt;&#39;orientationchange&#39;&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt; ? &lt;span class=&quot;string&quot;&gt;&#39;orientationchange&#39;&lt;/span&gt; : &lt;span class=&quot;string&quot;&gt;&#39;resize&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    recalc = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; clientWidth = docEl.clientWidth;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!clientWidth) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        docEl.style.fontSize = &lt;span class=&quot;number&quot;&gt;20&lt;/span&gt; * (clientWidth / &lt;span class=&quot;number&quot;&gt;640&lt;/span&gt;) + &lt;span class=&quot;string&quot;&gt;&#39;px&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!doc.addEventListener) &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  win.addEventListener(resizeEvt, recalc, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  doc.addEventListener(&lt;span class=&quot;string&quot;&gt;&#39;DOMContentLoaded&#39;&lt;/span&gt;, recalc, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;)(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这里的设计稿是按640的尺寸来设定的，不同分辨率下font-size的值如下：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://520ued.com/uploads/20141218/1418903956.jpeg&quot; alt=&quot;华丽盗图，请勿追究！&quot;&gt;&lt;/p&gt;
&lt;p&gt;以上选取自：&lt;br&gt;&lt;a href=&quot;http://sentsin.com/web/1212.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;移动端高清、多屏适配方案&lt;/a&gt;[^1]&lt;br&gt;&lt;a href=&quot;http://isux.tencent.com/web-app-rem.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;web app变革之rem&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;开发移动端H5页面
面对不同分辨率的手机
面对不同屏幕尺寸的手机
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;基础概念&quot;&gt;&lt;a href=&quot;#基础概念&quot; class=&quot;headerlink&quot; title=&quot;基础概念&quot;&gt;&lt;/a&gt;基础概念&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;物理像素（physical pixel）&lt;/strong&gt;&lt;br&gt;一个物理像素是显示器(手机屏幕)上最小的&lt;code&gt;物理显示单元&lt;/code&gt;，在操作系统的调度下，每一个设备像素都有自己的颜色值和亮度值。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;设备独立像素(density-independent pixel)&lt;/strong&gt;&lt;br&gt;设备独立像素（狭义：&lt;code&gt;设备宽高&lt;/code&gt;），可以认为是计算机坐标系统中得一个点，这个点代表一个可以由程序使用的虚拟像素(比如: css像素)，然后由相关系统转换为物理像素。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;设备像素比(device pixel ratio )&lt;/strong&gt;&lt;br&gt;设备像素比(简称&lt;code&gt;dpr&lt;/code&gt;)定义了物理像素和设备独立像素的对应关系，它的值可以按如下的公式的得到：&lt;/p&gt;
&lt;figure class=&quot;highlight 1c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;设备像素比 = 物理像素 / 设备独立像素 &lt;span class=&quot;comment&quot;&gt;// 在某一方向上，x方向或者y方向&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="技术" scheme="http://yoursite.com/tags/%E6%8A%80%E6%9C%AF/"/>
    
      <category term="css" scheme="http://yoursite.com/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>Say sorry to V god</title>
    <link href="http://yoursite.com/2015/09/11/Say-sorry-to-V-god/"/>
    <id>http://yoursite.com/2015/09/11/Say-sorry-to-V-god/</id>
    <published>2015-09-11T08:42:34.000Z</published>
    <updated>2016-06-21T08:59:53.066Z</updated>
    
    <content type="html">&lt;p&gt;&lt;del&gt;至此，V神的Next主题已被鄙人所抛弃&lt;/del&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;跟着感觉走让它带着我&lt;br&gt;希望就在不远处等着我&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h3 id=&quot;《跟着感觉走》&quot;&gt;&lt;a href=&quot;#《跟着感觉走》&quot; class=&quot;headerlink&quot; title=&quot;《跟着感觉走》&quot;&gt;&lt;/a&gt;《跟着感觉走》&lt;/h3&gt;&lt;p&gt;跟着感觉走紧抓住梦的手&lt;br&gt;脚步越来越轻越来越快活&lt;br&gt;尽情挥洒自己的笑容&lt;br&gt;爱情会在任何地方留我&lt;br&gt;跟着感觉走紧抓住梦的手&lt;br&gt;蓝天越来越近越来越温柔&lt;br&gt;心情就象风一样自由&lt;br&gt;突然发现一个完全不同的我&lt;br&gt;跟着感觉走让它带着我&lt;br&gt;希望就在不远处等着我&lt;br&gt;跟着感觉走让它带着我&lt;br&gt;梦想的事哪里都会有&lt;br&gt;跟着感觉走紧抓住梦的手&lt;br&gt;脚步越来越轻越来越快活&lt;br&gt;尽情挥洒自己的笑容&lt;br&gt;爱情会在任何地方留我&lt;br&gt;跟着感觉走紧抓住梦的手&lt;br&gt;蓝天越来越近越来越温柔&lt;br&gt;心情就象风一样自由&lt;br&gt;突然发现一个完全不同的我&lt;br&gt;跟着感觉走让它带着我&lt;br&gt;希望就在不远处等着我&lt;br&gt;跟着感觉走让它带着我&lt;br&gt;梦想的事哪里都会有&lt;br&gt;跟着感觉走让它带着我&lt;br&gt;希望就在不远处等着我&lt;br&gt;跟着感觉走让它带着我&lt;br&gt;梦想的事哪里都会有噢&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;del&gt;至此，V神的Next主题已被鄙人所抛弃&lt;/del&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;跟着感觉走让它带着我&lt;br&gt;希望就在不远处等着我&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="随笔" scheme="http://yoursite.com/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
</feed>
